挖矿难度

H(block header) <= target

搜索空间 2^256

为什么要调整挖矿难度

出块时间太小有什么问题？

分叉会非常频繁，而且会出现多分叉，对系统达成共识不好，安全性也不好

分叉多了以后，算力分散，分叉攻击更容易

口 <- 口 <- 口 <- 口 <- 口
		分叉			   口
					   口
					   口
			           口

有恶意的节点可以集中算力在分叉链上扩展，不需要 51% 的算力就可以发动攻击


以太坊出块时间 15s，使用 ghost 协议


============================

每 2016 个区块需要调整一次难度

(2016 x 10) / (60 x 24) = 14 天

new_target = target x (actual_time / expected_time)

有最大 4 倍限制，和最小 1/4 限制

如何让所有矿工同时调整难度？
规则写在代码里，每过 2016 个区块就会自动调整


如果有恶意节点修改代码不调整怎么办？
header 中有 nBits 表示 target，其他节点会这个区块式非法的，不会接受

